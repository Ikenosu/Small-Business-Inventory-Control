<!DOCTYPE html>
<html lang="en">
<head>
  <script>
    (function () {
      try {
        const raw = localStorage.getItem('inventorypro.settings');
        const s = raw ? JSON.parse(raw) : {};
        const theme = s?.preferences?.theme || localStorage.getItem('theme') || 'light';
        document.documentElement.dataset.theme = theme;
        document.documentElement.style.colorScheme = theme === 'dark' ? 'dark' : 'light';
      } catch (e) {}
    })();
  </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inventory Pro - Profile</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <h2>Inventory Pro</h2>
        <p id="sidebarBusiness">-</p>
      </div>

      <div class="user-info">
        <div class="user-avatar" id="sidebarAvatar">--</div>
        <div class="user-details">
          <div class="user-name" id="sidebarName">-</div>
          <div class="user-role">Owner</div>
        </div>
      </div>

      <nav class="sidebar-nav">
        <a href="dashboard.html" class="nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          Dashboard
        </a>

        <a href="inventory.html" class="nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2z"></path>
          </svg>
          Inventory
        </a>

        <a href="reports.html" class="nav-item">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
          </svg>
          Reports
        </a>

        <a href="profile.html" class="nav-item active">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          Profile
        </a>
      </nav>

      <button class="btn-logout" id="logoutBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
          <polyline points="16 17 21 12 16 7"></polyline>
          <line x1="21" y1="12" x2="9" y2="12"></line>
        </svg>
        Logout
      </button>
    </div>

    <!-- Main -->
    <div class="main-content">
      <div id="profileContent" class="content-page active">
        <div class="content-header">
          <h1>Profile Settings</h1>
          <p>Manage your account settings</p>
        </div>

        <div class="profile-card">
          <div class="profile-header">
            <div class="profile-avatar" id="profileAvatar">JS</div>
            <div class="profile-info">
              <h2 id="profileName">John Smith</h2>
              <p>Owner</p>
              <p class="business-name" id="profileBusiness">Smith & Co</p>
            </div>
          </div>

          <div class="stats-section">
            <h3>Account Stats</h3>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-value" id="accountStatProducts">6</div>
                <div class="stat-label">Products</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="accountStatReports">24</div>
                <div class="stat-label">Reports</div>
              </div>
              <div class="stat-item">
                <div class="stat-value" id="accountStatValue">RM 6.1k</div>
                <div class="stat-label">Value</div>
              </div>
            </div>
          </div>

          <div class="settings-grid">
            <div class="settings-section">
              <h3>Account</h3>

              <div class="setting-item clickable" id="editProfileBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                <div>
                  <div class="setting-title">Personal Information</div>
                  <div class="setting-value" id="settingName">John Smith</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>

              <div class="setting-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                  <polyline points="22,6 12,13 2,6"></polyline>
                </svg>
                <div>
                  <div class="setting-title">Email</div>
                  <div class="setting-value" id="settingEmail">you@example.com</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>

              <div class="setting-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"></path>
                  <polyline points="17 21 17 13 7 13 7 21"></polyline>
                  <polyline points="7 3 7 8 15 8"></polyline>
                </svg>
                <div>
                  <div class="setting-title">Business</div>
                  <div class="setting-value" id="settingBusiness">Smith & Co</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>
            </div>

            <div class="settings-section">
              <h3>Settings</h3>

              <div class="setting-item clickable" id="notificationBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                  <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                </svg>
                <div>
                  <div class="setting-title">Notifications</div>
                  <div class="setting-value" id="notificationStatus">Enabled</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>

              <div class="setting-item clickable" id="securityBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <div>
                  <div class="setting-title">Security</div>
                  <div class="setting-value" id="securityStatus">Medium</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>

              <div class="setting-item clickable" id="preferencesBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M12 1v6m0 6v6m8.66-13.66l-4.24 4.24m-4.24 4.24l-4.24 4.24M23 12h-6m-6 0H1m18.66 5.66l-4.24-4.24m-4.24-4.24l-4.24-4.24"></path>
                </svg>
                <div>
                  <div class="setting-title">Preferences</div>
                </div>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </div>
            </div>
          </div>

          <div class="support-section">
            <h3>Support</h3>
            <div class="setting-item clickable" id="helpCenterBtn">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
              </svg>
              <div>
                <div class="setting-title">Help Center</div>
              </div>
            </div>
          </div>

          <div class="version">Version 1.0.0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===================== MODALS ===================== -->

  <!-- Edit Profile Modal -->
  <div id="editProfileModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
        <h3>Edit Profile</h3>
        <button class="modal-close" data-modal="editProfileModal">&times;</button>
      </div>

      <form id="editProfileForm">
        <div class="form-group">
          <label for="editFullName">Full Name</label>
          <input type="text" id="editFullName" placeholder="John Smith" required />
        </div>

        <div class="form-group">
          <label for="editEmail">Email Address</label>
          <input type="email" id="editEmail" placeholder="john@example.com" disabled />
          <p class="field-note">Email address cannot be changed</p>
        </div>

        <div class="form-group">
          <label for="editBusinessName">Business Name</label>
          <input type="text" id="editBusinessName" placeholder="Smith & Co" required />
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-secondary" data-modal="editProfileModal">Cancel</button>
          <button type="submit" class="btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Notification Settings Modal -->
  <div id="notificationModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
        <h3>Notification Settings</h3>
        <button class="modal-close" data-modal="notificationModal">&times;</button>
      </div>

      <div class="notification-settings">
        <h4>Alert Preferences</h4>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">Low Stock Alert</div>
            <div class="toggle-desc">Show Low Stock box on dashboard</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="lowStockAlert" checked />
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">Out of Stock Alerts</div>
            <div class="toggle-desc">Show Out of Stock box on dashboard</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="outOfStockAlert" checked />
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">New Product Alert</div>
            <div class="toggle-desc">Get notified when products are added</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="newProductAlert" />
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">Price Change Alerts</div>
            <div class="toggle-desc">Get notified on price updates</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="priceChangeAlert" />
            <span class="toggle-slider"></span>
          </label>
        </div>

        <h4>Notification Channels</h4>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">Email Notifications</div>
            <div class="toggle-desc">Receive notifications via email</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="emailNotifications" checked />
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="toggle-item">
          <div>
            <div class="toggle-title">Push Notifications</div>
            <div class="toggle-desc">Receive notifications via device</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="pushNotifications" />
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-primary full-width" id="saveNotificationSettings">Save Settings</button>
      </div>
    </div>
  </div>

  <!-- Security Settings Modal -->
  <div id="securityModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
        </svg>
        <h3>Security Settings</h3>
        <button class="modal-close" data-modal="securityModal">&times;</button>
      </div>

      <div class="password-section">
        <h4>Change Password</h4>
        <form id="securityForm">
          <div class="form-group">
            <label for="currentPassword">Current Password</label>
            <input type="password" id="currentPassword" placeholder="Enter current password" required />
          </div>

          <div class="form-group">
            <label for="newPassword">New Password</label>
            <input type="password" id="newPassword" placeholder="Enter new password (min 6 characters)" required />
          </div>

          <div class="form-group">
            <label for="confirmNewPassword">Confirm New Password</label>
            <input type="password" id="confirmNewPassword" placeholder="Re-enter new password" required />
          </div>

          <button type="submit" class="btn-primary full-width">Update Password</button>
        </form>
      </div>

      <div class="security-status" id="securityStatusBox" style="margin:24px;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <div>
          <div class="status-title" id="securityStatusTitle">Security Status: Medium</div>
          <div class="status-desc" id="securityStatusDesc">Your account is protected with a password</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Preferences Modal -->
  <div id="preferencesModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m8.66-13.66l-4.24 4.24m-4.24 4.24l-4.24 4.24M23 12h-6m-6 0H1m18.66 5.66l-4.24-4.24m-4.24-4.24l-4.24-4.24"></path>
        </svg>
        <h3>Preferences</h3>
        <button class="modal-close" data-modal="preferencesModal">&times;</button>
      </div>

      <div class="preferences-content">
        <h4>Regional Settings</h4>

        <div class="form-group">
          <label>Language</label>
          <select class="select-input" id="languageSelect" disabled>
            <option value="en">English</option>
          </select>
        </div>

        <div class="form-group">
          <label>Currency</label>
          <select class="select-input" id="currencySelect" disabled>
            <option value="MYR">MYR (RM)</option>
          </select>
        </div>

        <div class="form-group">
          <label>Date Format</label>
          <select class="select-input" id="dateFormatSelect">
            <option value="MM/DD/YYYY">MM / DD / YYYY</option>
            <option value="DD/MM/YYYY">DD / MM / YYYY</option>
            <option value="YYYY/MM/DD">YYYY / MM / DD</option>
          </select>
        </div>

        <h4>Appearance</h4>
        <div class="form-group">
          <label>Theme</label>
          <div class="theme-selector">
            <button type="button" class="theme-option active" data-theme="light">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
              </svg>
              <span>Light</span>
            </button>

            <button type="button" class="theme-option" data-theme="dark">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
              </svg>
              <span>Dark</span>
            </button>
          </div>
        </div>

        <h4>Display Options</h4>
        <div class="toggle-item">
          <div>
            <div class="toggle-title">Dashboard Stock Alerts</div>
            <div class="toggle-desc">Show alerts on main dashboard</div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="dashboardStockAlerts" checked />
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-primary full-width" id="savePreferences">Save Preferences</button>
      </div>
    </div>
  </div>

  <!-- Help Center Modal -->
  <div id="helpCenterModal" class="modal">
    <div class="modal-content help-modal">
      <div class="modal-header">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
          <line x1="12" y1="17" x2="12.01" y2="17"></line>
        </svg>
        <h3>Help Center</h3>
        <button class="modal-close" data-modal="helpCenterModal">&times;</button>
      </div>

      <div class="help-content">
        <h4>Quick Links</h4>

        <div class="help-item" id="gettingStartedGuide">
          <div class="help-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
          </div>
          <div>
            <div class="help-title">Getting Started Guide</div>
            <div class="help-desc">Learn the basics of Inventory Pro</div>
          </div>
        </div>

        <div class="help-item" id="contactSupportBtn">
          <div class="help-item-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <div class="help-item-content">
            <div class="help-title">Contact Support</div>
            <div class="help-desc">Get help from our team</div>
          </div>
        </div>

        <div class="help-item" id="emailUsBtn">
          <div class="help-item-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
              <polyline points="22,6 12,13 2,6"></polyline>
            </svg>
          </div>
          <div class="help-item-content">
            <div class="help-title">Email Us</div>
            <div class="help-desc">support@inventorypro.com</div>
          </div>
        </div>

        <div class="help-info">
          <div class="info-title">Still need help?</div>
          <div class="info-desc">Contact our support team and we'll assist you with any questions or issues</div>
          <button class="btn-primary" id="contactSupportButton">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            Contact Support
          </button>
        </div>

        <div class="help-footer">
          <p>Â© 2025 Inventory Pro</p>
          <p>All Rights Reserved</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Logout Confirmation Modal -->
  <div id="logoutModal" class="modal">
    <div class="modal-content logout-modal">
      <div class="modal-header logout-header">
        <div class="logout-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </div>
        <h3>Logout Confirmation</h3>
        <p>Are you sure you want to logout? Any unsaved changes will be lost.</p>
      </div>
      <div class="modal-actions logout-actions">
        <button type="button" class="btn-secondary" id="cancelLogout">Cancel</button>
        <button type="button" class="btn-danger" id="confirmLogout">Yes, Logout</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script type="module" src="./assets/js/profile.js"></script>
</body>
</html>
